// Generated by CoffeeScript 1.9.3
var Model;

Model = (function() {
  var buildkeys, getdatabyajax, gethtmlstring;

  function Model(url1, target1) {
    this.url = url1;
    this.target = target1;
    this.inputnames = [];
    this.finalhtmlstring;
    this.submitdata;
    this.modeldata;
    this.dbdata;
  }

  getdatabyajax = function(url) {
    return $.ajax({
      url: this.url,
      dataType: 'json',
      async: false
    }).done(function(data) {
      return data;
    }).fail(function() {
      return 0;
    });
  };

  buildkeys = function(value, target) {
    var a, i, len;
    for (i = 0, len = target.length; i < len; i++) {
      a = target[i];
      if (a === value) {
        return target;
      }
      target.push(value);
      return target;
    }
  };

  gethtmlstring = function(data, id) {
    var ref, str, type, value;
    type = data.type;
    value = (ref = data.defaultValue === null) != null ? ref : {
      "": data.defaultValue
    };
    if (type === 'input') {
      return str = "<input type='text' id='" + id + "' name='" + id + "' value='" + value + "'/>";
    } else if (type === 'select') {
      return str;
    }
  };

  Model.prototype.ergodicdata = function() {
    var str, title;
    if (type === 'process') {
      title = data.namezh;
      return str = "<div id='" + data.name + "' class='J_content'> <h3>" + title + "</h3>";
    } else if (type === 'forend') {
      title = data.namezh;
      return str = "<div class='list'> <div class='note'> <p>" + title + "</p> </div> <div class='input'> " + str + " </div> </div>";
    }
  };

  Model.prototype.init = function() {};

  return Model;

})();
